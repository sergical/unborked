{"version":3,"file":"userCarts.js","sourceRoot":"/","sources":["db/schema/userCarts.ts"],"names":[],"mappings":";;;AAAA,iDAAiF;AACjF,mCAAgC;AAEnB,QAAA,SAAS,GAAG,IAAA,iBAAO,EAAC,YAAY,EAAE;IAC7C,EAAE,EAAE,IAAA,gBAAM,EAAC,IAAI,CAAC,CAAC,UAAU,EAAE;IAC7B,MAAM,EAAE,IAAA,iBAAO,EAAC,SAAS,CAAC,CAAC,OAAO,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,aAAK,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAE,CAAC,CAAC,MAAM,EAAE,EAAE,wBAAwB;IAC3H,QAAQ,EAAE,IAAA,eAAK,EAAC,WAAW,CAAC,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,4CAA4C;IAClG,SAAS,EAAE,IAAA,mBAAS,EAAC,YAAY,CAAC,CAAC,UAAU,EAAE,CAAC,OAAO,EAAE;IACzD,SAAS,EAAE,IAAA,mBAAS,EAAC,YAAY,CAAC,CAAC,UAAU,EAAE,CAAC,OAAO,EAAE;CAC1D,CAAC,CAAC","sourcesContent":["import { pgTable, serial, integer, jsonb, timestamp } from 'drizzle-orm/pg-core';\nimport { users } from './users';\n\nexport const userCarts = pgTable('user_carts', {\n  id: serial('id').primaryKey(),\n  userId: integer('user_id').notNull().references(() => users.id, { onDelete: 'cascade' }).unique(), // Add unique constraint\n  cartData: jsonb('cart_data').notNull().default('{}'), // Store cart as JSONB, default empty object\n  createdAt: timestamp('created_at').defaultNow().notNull(),\n  updatedAt: timestamp('updated_at').defaultNow().notNull()\n});\n"]}